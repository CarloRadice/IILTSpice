Version 4
SHEET 1 4736 1928
WIRE 1536 -112 1424 -112
WIRE 1280 -64 1232 -64
WIRE 1536 -64 1536 -112
WIRE 1616 -64 1536 -64
WIRE 128 128 48 128
WIRE 672 128 592 128
WIRE 2656 128 2544 128
WIRE 2896 128 2784 128
WIRE 2544 144 2544 128
WIRE 2544 144 2528 144
WIRE 2784 144 2784 128
WIRE 2784 144 2768 144
WIRE 48 160 48 128
WIRE 48 160 32 160
WIRE 592 160 592 128
WIRE 592 160 576 160
WIRE 2656 480 2544 480
WIRE 2896 480 2784 480
WIRE 2544 496 2544 480
WIRE 2544 496 2528 496
WIRE 2784 496 2784 480
WIRE 2784 496 2768 496
WIRE 128 512 48 512
WIRE 672 512 592 512
WIRE 48 544 48 512
WIRE 48 544 32 544
WIRE 592 544 592 512
WIRE 592 544 576 544
WIRE 2656 848 2544 848
WIRE 2896 848 2784 848
WIRE 2544 864 2544 848
WIRE 2544 864 2528 864
WIRE 2784 864 2784 848
WIRE 2784 864 2768 864
WIRE 2416 880 2368 880
WIRE 2656 880 2608 880
WIRE 1488 1696 1312 1696
FLAG -912 400 0
FLAG -912 320 CLK
IOPIN -912 320 Out
FLAG 128 176 CLK
IOPIN 128 176 In
FLAG 672 176 CLK
IOPIN 672 176 In
FLAG 288 128 A0
IOPIN 288 128 Out
FLAG 832 128 A1
IOPIN 832 128 Out
FLAG 128 560 CLK
IOPIN 128 560 In
FLAG 672 560 CLK
IOPIN 672 560 In
FLAG 288 512 B0
IOPIN 288 512 Out
FLAG 832 512 B1
IOPIN 832 512 Out
FLAG 1280 -128 A0
IOPIN 1280 -128 In
FLAG 1280 -96 B0
IOPIN 1280 -96 In
FLAG 1424 -80 Y0
IOPIN 1424 -80 Out
FLAG 1760 -80 Y1
IOPIN 1760 -80 Out
FLAG 1616 -128 A1
IOPIN 1616 -128 In
FLAG 1616 -96 B1
IOPIN 1616 -96 In
FLAG 1760 -112 C
IOPIN 1760 -112 Out
FLAG 3744 640 CLK
IOPIN 3744 640 In
FLAG 4096 640 CLK
IOPIN 4096 640 In
FLAG 3744 592 R0
IOPIN 3744 592 In
FLAG 4096 592 R1
IOPIN 4096 592 In
FLAG 4448 640 CLK
IOPIN 4448 640 In
FLAG 4448 592 R2
IOPIN 4448 592 In
FLAG 208 80 PRESET
IOPIN 208 80 In
FLAG 208 608 RESET
IOPIN 208 608 In
FLAG 752 608 RESET
IOPIN 752 608 In
FLAG 752 224 RESET
IOPIN 752 224 In
FLAG 208 224 RESET
IOPIN 208 224 In
FLAG -1296 400 0
FLAG -912 736 0
FLAG -944 656 RESET
IOPIN -944 656 Out
FLAG -1296 320 ENABLE
IOPIN -1296 320 Out
FLAG -1296 736 0
FLAG -1392 656 PRESET
IOPIN -1392 656 Out
FLAG 1568 224 MOD0
IOPIN 1568 224 Out
FLAG 1568 256 MOD1
IOPIN 1568 256 Out
FLAG 1568 288 MOD2
IOPIN 1568 288 Out
FLAG 1568 320 MOD3
IOPIN 1568 320 Out
FLAG 1408 256 SEL0
IOPIN 1408 256 In
FLAG 1408 288 SEL1
IOPIN 1408 288 In
FLAG 752 80 PRESET
IOPIN 752 80 In
FLAG 752 464 PRESET
IOPIN 752 464 In
FLAG 208 464 PRESET
IOPIN 208 464 In
FLAG -1296 -192 I0
IOPIN -1296 -192 Out
FLAG -1296 -16 I2
IOPIN -1296 -16 Out
FLAG -912 -192 I1
IOPIN -912 -192 Out
FLAG -912 -16 I3
IOPIN -912 -16 Out
FLAG -1296 -112 0
FLAG -912 -112 0
FLAG -912 64 0
FLAG -1296 64 0
FLAG -80 176 I2
IOPIN -80 176 In
FLAG 1408 688 A0
IOPIN 1408 688 In
FLAG 1408 720 A1
IOPIN 1408 720 In
FLAG 1408 768 B0
IOPIN 1408 768 In
FLAG 1408 800 B1
IOPIN 1408 800 In
FLAG -80 144 A0
IOPIN -80 144 In
FLAG -16 208 ENABLE
IOPIN -16 208 In
FLAG 464 176 I3
IOPIN 464 176 In
FLAG 464 144 A1
IOPIN 464 144 In
FLAG 528 208 ENABLE
IOPIN 528 208 In
FLAG -80 560 I0
IOPIN -80 560 In
FLAG -80 528 B0
IOPIN -80 528 In
FLAG -16 592 ENABLE
IOPIN -16 592 In
FLAG 464 560 I1
IOPIN 464 560 In
FLAG 464 528 B1
IOPIN 464 528 In
FLAG 528 592 ENABLE
IOPIN 528 592 In
FLAG 2480 192 MOD0
IOPIN 2480 192 In
FLAG 3904 592 Rout0
IOPIN 3904 592 Out
FLAG 4256 592 Rout1
IOPIN 4256 592 Out
FLAG 4608 592 Rout2
IOPIN 4608 592 Out
FLAG 2720 192 VALCOMP
IOPIN 2720 192 In
FLAG 2960 192 VALCARRY
IOPIN 2960 192 In
FLAG 1488 832 MOD1
IOPIN 1488 832 In
FLAG 1584 752 VALCOMP
IOPIN 1584 752 Out
FLAG 2416 160 Y0
IOPIN 2416 160 In
FLAG 2416 128 Rout0
IOPIN 2416 128 In
FLAG 2656 160 Y0
IOPIN 2656 160 In
FLAG 2896 160 Y0
IOPIN 2896 160 In
FLAG 3008 144 R0
IOPIN 3008 144 Out
FLAG -1296 1104 SEL0
IOPIN -1296 1104 Out
FLAG -1296 1280 SEL1
IOPIN -1296 1280 Out
FLAG 1472 1104 C
IOPIN 1472 1104 In
FLAG 1472 1136 MOD2
IOPIN 1472 1136 In
FLAG 1536 1104 VALCARRY
IOPIN 1536 1104 Out
FLAG 2480 544 MOD0
IOPIN 2480 544 In
FLAG 2720 544 VALCOMP
IOPIN 2720 544 In
FLAG 2960 544 VALCARRY
IOPIN 2960 544 In
FLAG 2416 512 Y1
IOPIN 2416 512 In
FLAG 2416 480 Rout1
IOPIN 2416 480 In
FLAG 2656 512 Y1
IOPIN 2656 512 In
FLAG 2896 512 Y1
IOPIN 2896 512 In
FLAG 3008 496 R1
IOPIN 3008 496 Out
FLAG 2480 912 MOD0
IOPIN 2480 912 In
FLAG 2720 912 VALCOMP
IOPIN 2720 912 In
FLAG 2960 912 VALCARRY
IOPIN 2960 912 In
FLAG 2416 848 Rout3
IOPIN 2416 848 In
FLAG 2896 880 C
IOPIN 2896 880 In
FLAG 3008 864 R2
IOPIN 3008 864 Out
FLAG 1488 336 ENABLE
IOPIN 1488 336 In
FLAG 1488 1728 MOD3
IOPIN 1488 1728 In
FLAG 1248 1696 PRESET
IOPIN 1248 1696 In
FLAG 1248 1728 RESET
IOPIN 1248 1728 In
FLAG 1568 1776 ENABLE
IOPIN 1568 1776 In
FLAG 1648 1664 FAULT<0>
IOPIN 1648 1664 Out
FLAG 1648 1696 FAULT<1>
IOPIN 1648 1696 Out
FLAG 1648 1728 FAULT<2>
IOPIN 1648 1728 Out
FLAG 1648 1760 FAULT<3>
IOPIN 1648 1760 Out
SYMBOL Digital\\dflop 208 80 R0
WINDOW 0 24 -19 Left 2
SYMATTR InstName A0
SYMBOL Digital\\dflop 752 80 R0
WINDOW 0 28 -16 Left 2
SYMATTR InstName A1
SYMBOL voltage -912 304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 1u 0 0 1u 2u)
SYMBOL Digital\\dflop 208 464 R0
WINDOW 0 31 -19 Left 2
SYMATTR InstName B0
SYMBOL Digital\\dflop 752 464 R0
WINDOW 0 29 -18 Left 2
SYMATTR InstName B1
SYMBOL full_adder 1344 -96 R0
SYMATTR InstName X1
SYMBOL full_adder 1680 -96 R0
SYMATTR InstName X2
SYMBOL Digital\\dflop 3824 544 R0
SYMATTR InstName Y0
SYMBOL Digital\\dflop 4176 544 R0
SYMATTR InstName Y1
SYMBOL Digital\\dflop 4528 544 R0
SYMATTR InstName C
SYMBOL voltage -912 640 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 10u 0 0)
SYMBOL voltage -1296 304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1
SYMBOL voltage -1296 640 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 1 10u 0 0 100u 200u)
SYMBOL decoder_with_enable_2x4 1488 256 R0
WINDOW 0 1 -92 Bottom 2
SYMATTR InstName X3
SYMBOL voltage -1296 -208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName INPUT0
SYMATTR Value PULSE(0 1 105u 0 0 5u 10u)
SYMBOL voltage -1296 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName INPUT2
SYMATTR Value PULSE(0 1 120u 0 0 20u 40u)
SYMBOL voltage -912 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName INPUT3
SYMATTR Value PULSE(0 1 140u 0 0 40u 80u)
SYMBOL voltage -912 -208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName INPUT1
SYMATTR Value PULSE(0 1 110u 0 0 10u 20u)
SYMBOL comparator 1488 752 R0
WINDOW 0 10 -120 Bottom 2
SYMATTR InstName X4
SYMBOL multiplexer_1x2 -16 160 R0
WINDOW 0 -9 -82 Bottom 2
SYMATTR InstName X5
SYMBOL multiplexer_1x2 528 160 R0
WINDOW 0 -9 -82 Bottom 2
SYMATTR InstName X6
SYMBOL multiplexer_1x2 -16 544 R0
WINDOW 0 -9 -82 Bottom 2
SYMATTR InstName X7
SYMBOL multiplexer_1x2 528 544 R0
WINDOW 0 -9 -82 Bottom 2
SYMATTR InstName X8
SYMBOL multiplexer_1x2 2480 144 R0
SYMATTR InstName X9
SYMBOL multiplexer_1x2 2720 144 R0
SYMATTR InstName X10
SYMBOL multiplexer_1x2 2960 144 R0
SYMATTR InstName X11
SYMBOL voltage -1296 1088 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 0
SYMBOL voltage -1296 1264 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 1
SYMBOL Digital\\and 1504 1056 R0
SYMATTR InstName A2
SYMBOL multiplexer_1x2 2480 496 R0
SYMATTR InstName X12
SYMBOL multiplexer_1x2 2720 496 R0
SYMATTR InstName X13
SYMBOL multiplexer_1x2 2960 496 R0
SYMATTR InstName X14
SYMBOL multiplexer_1x2 2480 864 R0
SYMATTR InstName X15
SYMBOL multiplexer_1x2 2720 864 R0
SYMATTR InstName X16
SYMBOL multiplexer_1x2 2960 864 R0
SYMATTR InstName X17
SYMBOL decoder_with_enable_2x4 1568 1696 R0
SYMATTR InstName X18
SYMBOL Digital\\and 1280 1648 R0
SYMATTR InstName A3
TEXT -232 -32 Left 6 ;A
TEXT -232 336 Left 6 ;B
TEXT 48 -184 Left 7 ;REGISTERS
TEXT 1416 -232 Left 2 ;Sommatore a 2 bit
TEXT 3744 440 Left 2 ;Salvo il valore di uscita dalla somma in un registro, salvo anche il C? SI
TEXT 3664 496 Left 6 ;R
TEXT -984 856 Left 2 !.tran 260u
TEXT 1264 112 Left 2 ;Decoder per decidere quale MOD abilitare
TEXT -1632 -304 Left 2 ;Delay iniziale delle onde quadre impostato a 100u di base. Bisogna capire come comportarsi con il tempo di salita o discesa
TEXT -1432 520 Left 2 ;Attenzione!! PRESET e RESET sono al momento scollegati per test di caso base
TEXT 240 -96 Left 2 ;sembrerebbero giusti
TEXT -1344 928 Left 2 ;Seletori di MODALITA'
TEXT 1344 528 Left 2 ;Comparatore numeri uguali
TEXT 1264 568 Left 2 ;Ritorna 1 se MOD1 = 1 e i numeri sono uguali
TEXT 1248 1032 Left 2 ;VALCARRY = 1 se MOD2 = 1 e il CarryOut = 1
TEXT 2280 -248 Left 5 ;SELEZIONE MODALITA'
TEXT 2280 -192 Left 3 ;Casi possibili:
TEXT 2280 -160 Left 2 ;- se tutti i selettori sono a 0 perchè MOD1 = 0 o MOD1 = 1 ma i numeri sono diversi o MOD2 = 1 ma non c'è riporto in uscita \n  allora salvo il valore precedente che c'è nel registro in uscita\n- se MOD0 = 1 allora salvo qualunque numero usando il primo multiplexer\n- se MOD1 = 1 e i numeri sono uguali VALCOMP = 1 allora indipendentemente dal valore in uscita dal primo multiplexer salvo il valore in uscita dal sommatore\n- se MOD2 = 1 e c'è un riporto in uscita VALCARRY = 1 allora indipendentemente dai valori dei primi due multiplexer salvo il valore in uscita dal sommatore
TEXT -1344 976 Left 2 ;ATTENZIONE in questo momento è selezionata la MOD2
TEXT 1176 1360 Left 5 ;GESTIONE STATI DI FAULT
TEXT 1192 1424 Left 2 ;Casi:\n- MOD3\n- ENABLE = 1, RESET = 1, PRESET = 1, cosa succede però nella somma? \n- ...
